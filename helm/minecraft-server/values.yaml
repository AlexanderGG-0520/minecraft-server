# ============================================================
# Image
# ============================================================
image:
  repository: ghcr.io/alexandergg-0520/minecraft-server
  tag: java25
  variant: cpu        # cpu | gpu
  pullPolicy: Always

# ============================================================
# Server Core
# ============================================================
server:
  type: fabric        # vanilla | fabric | forge | paper | purpur
  version: "1.21.10"
  fabricLoader: "0.18.2"

# ============================================================
# EULA (string固定！)
# ============================================================
env:
  EULA: "true"        # ← boolean禁止
  MAX_MEMORY: "6G"

# ============================================================
# Operators
# ============================================================
ops:
  - AlecJP02

# ============================================================
# Performance
# ============================================================
performance:
  opencl:
    enabled: true     # ← Helm内部で string に変換

# ============================================================
# Resources
# ============================================================
resources:
  requests:
    cpu: "2"
    memory: "5Gi"
  limits:
    cpu: "4"
    memory: "7Gi"
    nvidia.com/gpu: 1   # GPU時のみ有効

# ============================================================
# Node scheduling
# ============================================================
nodeSelector: {}
tolerations: []
affinity: {}

# GPU ノード用（gpu variant時に上書き）
gpu:
  enabled: false
  runtimeClassName: nvidia
  nodeSelector:
    nvidia.com/gpu.present: "true"
